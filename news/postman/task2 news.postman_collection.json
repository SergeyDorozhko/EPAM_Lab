{
	"info": {
		"_postman_id": "d0b84074-ecaf-4856-9cd2-719d2ec7c472",
		"name": "task2 news",
		"schema": "https://schema.getpostman.com/json/collection/v2.1.0/collection.json"
	},
	"item": [
		{
			"name": "Author",
			"item": [
				{
					"name": "find author by id",
					"protocolProfileBehavior": {
						"disableBodyPruning": true
					},
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "Content-Type",
								"name": "Content-Type",
								"value": "application/json",
								"type": "text"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "",
							"options": {
								"raw": {}
							}
						},
						"url": {
							"raw": "http://localhost:8080/author/62",
							"protocol": "http",
							"host": [
								"localhost"
							],
							"port": "8080",
							"path": [
								"author",
								"62"
							]
						}
					},
					"response": []
				},
				{
					"name": "create new author",
					"request": {
						"auth": {
							"type": "oauth2",
							"oauth2": [
								{
									"key": "accessToken",
									"value": "eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJVc2VyIiwiaWF0IjoxNTg1NTY4NDA0LCJleHAiOjE1ODU2NTQ4MDR9.hYEWo2zy7ZOkxu_9SCjfGcSiYe7_p1wVcUY4kvizV92bKZmQSlLl_3IcaySCYCjYqHKjyYMSePOaFELU7o7Pdw",
									"type": "string"
								},
								{
									"key": "addTokenTo",
									"value": "header",
									"type": "string"
								}
							]
						},
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"name": "Content-Type",
								"value": "application/json",
								"type": "text"
							},
							{
								"key": "X-XSRF-TOKEN",
								"value": "1d55c44e-ae98-4866-8029-3c8aba0756fb",
								"type": "text"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\r\n    \"name\": \"newAuthor\",\r\n    \"surname\": \"NewAuthor\"\r\n}",
							"options": {
								"raw": {}
							}
						},
						"url": {
							"raw": "http://localhost:8080/author",
							"protocol": "http",
							"host": [
								"localhost"
							],
							"port": "8080",
							"path": [
								"author"
							]
						}
					},
					"response": []
				},
				{
					"name": "DELETE author by id",
					"request": {
						"auth": {
							"type": "oauth2",
							"oauth2": [
								{
									"key": "accessToken",
									"value": "eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJVc2VyIiwiaWF0IjoxNTg1NTY4NDA0LCJleHAiOjE1ODU2NTQ4MDR9.hYEWo2zy7ZOkxu_9SCjfGcSiYe7_p1wVcUY4kvizV92bKZmQSlLl_3IcaySCYCjYqHKjyYMSePOaFELU7o7Pdw",
									"type": "string"
								},
								{
									"key": "addTokenTo",
									"value": "header",
									"type": "string"
								}
							]
						},
						"method": "DELETE",
						"header": [
							{
								"key": "Content-Type",
								"name": "Content-Type",
								"value": "application/json",
								"type": "text"
							},
							{
								"key": "X-XSRF-TOKEN",
								"value": "68e2ecc4-71a5-44db-a5a0-6ad6e6982b32",
								"type": "text"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "",
							"options": {
								"raw": {}
							}
						},
						"url": {
							"raw": "http://localhost:8080/author/62",
							"protocol": "http",
							"host": [
								"localhost"
							],
							"port": "8080",
							"path": [
								"author",
								"62"
							]
						}
					},
					"response": []
				},
				{
					"name": "UPDATE  author by id",
					"request": {
						"method": "PUT",
						"header": [
							{
								"key": "Content-Type",
								"name": "Content-Type",
								"value": "application/json",
								"type": "text"
							},
							{
								"key": "X-XSRF-TOKEN",
								"value": "68e2ecc4-71a5-44db-a5a0-6ad6e6982b32",
								"type": "text"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\r\n    \"id\": 62,\r\n    \"name\": \"UpdateName\",\r\n    \"surname\": \"UPDATEAuthor\"\r\n}",
							"options": {
								"raw": {}
							}
						},
						"url": {
							"raw": "http://localhost:8080/author/",
							"protocol": "http",
							"host": [
								"localhost"
							],
							"port": "8080",
							"path": [
								"author",
								""
							]
						}
					},
					"response": []
				},
				{
					"name": "find All authors",
					"request": {
						"method": "GET",
						"header": [],
						"url": {
							"raw": "http://localhost:8080/author",
							"protocol": "http",
							"host": [
								"localhost"
							],
							"port": "8080",
							"path": [
								"author"
							]
						}
					},
					"response": []
				}
			],
			"protocolProfileBehavior": {}
		},
		{
			"name": "news",
			"item": [
				{
					"name": "CREATE news",
					"event": [
						{
							"listen": "prerequest",
							"script": {
								"id": "25bff467-38b7-4e3d-add0-678a233e0aff",
								"exec": [
									""
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"auth": {
							"type": "oauth2",
							"oauth2": [
								{
									"key": "accessToken",
									"value": "eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJBZG1pbiIsImlhdCI6MTU4NTU2NTc5OCwiZXhwIjoxNTg1NjUyMTk4fQ.rMONU-yrJtCUNqGp_0NnUhnAbX-ryR-HYmU9PKafHcx0UJE0bgfZ27L7QSWY8C16Px-VTAkbH-YM0DVOSCwbEQ",
									"type": "string"
								},
								{
									"key": "addTokenTo",
									"value": "header",
									"type": "string"
								}
							]
						},
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"name": "Content-Type",
								"value": "application/json",
								"type": "text"
							},
							{
								"key": "X-XSRF-TOKEN",
								"value": "f9ea1046-fca3-47f8-b712-6061add7b28e",
								"type": "text"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\r\n    \"title\": \"News for Test fdssdgf\",\r\n    \"shortText\": \"Text about how creation\",\r\n    \"fullText\": \"full story of text\",\r\n    \"author\": {\r\n        \"name\": \"Petr\",\r\n        \"surname\": \"Fedorov\"\r\n    },\r\n    \"tags\": [\r\n        {\r\n            \"name\": \"car\"\r\n        },\r\n        {\r\n            \"name\": \"road\"\r\n        },           \r\n        {\r\n            \"name\": \"road\"\r\n        }\r\n        \r\n        \r\n    ]\r\n}",
							"options": {
								"raw": {}
							}
						},
						"url": {
							"raw": "http://localhost:8080/news",
							"protocol": "http",
							"host": [
								"localhost"
							],
							"port": "8080",
							"path": [
								"news"
							]
						}
					},
					"response": []
				},
				{
					"name": "FIND news by id",
					"request": {
						"method": "GET",
						"header": [],
						"url": {
							"raw": "http://localhost:8080/news/50",
							"protocol": "http",
							"host": [
								"localhost"
							],
							"port": "8080",
							"path": [
								"news",
								"50"
							]
						}
					},
					"response": []
				},
				{
					"name": "DELETE news",
					"request": {
						"auth": {
							"type": "oauth2",
							"oauth2": [
								{
									"key": "accessToken",
									"value": "eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJBZG1pbiIsImlhdCI6MTU4NTU2NjAwNSwiZXhwIjoxNTg1NjUyNDA1fQ.ggwQeg4M-gSfSHuCNhnFpGR2Pc4wR5sEyk3jsUBLtZ7hXhGd5y1captT9bemETd4hteNidgTUmAyUUuajDd41g",
									"type": "string"
								},
								{
									"key": "addTokenTo",
									"value": "header",
									"type": "string"
								}
							]
						},
						"method": "DELETE",
						"header": [
							{
								"key": "X-XSRF-TOKEN",
								"value": "c1309e95-349b-4217-aefa-d867e9b456f0",
								"type": "text"
							}
						],
						"url": {
							"raw": "http://localhost:8080/news/51",
							"protocol": "http",
							"host": [
								"localhost"
							],
							"port": "8080",
							"path": [
								"news",
								"51"
							]
						}
					},
					"response": []
				},
				{
					"name": "UPDATE news",
					"request": {
						"method": "PUT",
						"header": [
							{
								"key": "Content-Type",
								"name": "Content-Type",
								"value": "application/json",
								"type": "text"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\r\n    \"id\": 45,\r\n    \"title\": \"titleUpdated\",\r\n    \"shortText\": \"newsummery\",\r\n    \"fullText\": \"full story45\",\r\n    \"author\": {\r\n        \"id\": 56,\r\n        \"name\": \"newAuthor\",\r\n        \"surname\": \"NewAuthor\"\r\n    },\r\n    \"tags\": [\r\n\r\n\r\n        {\r\n           \r\n            \"name\": \"newTag456\"\r\n        },\r\n        {\r\n           \r\n            \"name\": \"newTag4565\"\r\n        },\r\n            {\r\n           \r\n            \"name\": \"newTag4565\"\r\n        },\r\n        \r\n        {\r\n           \r\n            \"name\": \"newTag4ds6\"\r\n        },\r\n        \r\n        {\r\n           \r\n            \"name\": \"newTag4ds6\"\r\n        }\r\n        \r\n        \r\n        \r\n    ]\r\n}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "http://localhost:8080/news_app/news/",
							"protocol": "http",
							"host": [
								"localhost"
							],
							"port": "8080",
							"path": [
								"news_app",
								"news",
								""
							]
						}
					},
					"response": []
				},
				{
					"name": "Count all news",
					"request": {
						"auth": {
							"type": "bearer",
							"bearer": [
								{
									"key": "token",
									"value": "eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJVc2VyIiwiaWF0IjoxNTg1Mzg3NjExLCJleHAiOjE1ODU0NzQwMTF9.jXoQ0lbXprSX8v50PTwkkwt_yaJhZ3VpkI6-yBhBg0YP-jvaOAlE_QljZ_5HTVIgCnH3598Zg5gvK5g8HfG9KA",
									"type": "string"
								}
							]
						},
						"method": "GET",
						"header": [],
						"url": {
							"raw": "http://localhost:8080/news/count",
							"protocol": "http",
							"host": [
								"localhost"
							],
							"port": "8080",
							"path": [
								"news",
								"count"
							]
						}
					},
					"response": []
				},
				{
					"name": "SearchCriteriaTest",
					"request": {
						"method": "GET",
						"header": [],
						"url": {
							"raw": "http://localhost:8080/news/search",
							"protocol": "http",
							"host": [
								"localhost"
							],
							"port": "8080",
							"path": [
								"news",
								"search"
							],
							"query": [
								{
									"key": "authorName",
									"value": "newAuthor",
									"disabled": true
								},
								{
									"key": "authorSurname",
									"value": "NewAuthor",
									"disabled": true
								},
								{
									"key": "tags",
									"value": "newTag",
									"disabled": true
								},
								{
									"key": "tags",
									"value": "neaasdasdTag",
									"disabled": true
								},
								{
									"key": "orderByParameter",
									"value": "author_name",
									"disabled": true
								},
								{
									"key": "orderByParameter",
									"value": "creation_date",
									"disabled": true
								},
								{
									"key": "orderByParameter",
									"value": "TITLE",
									"disabled": true
								},
								{
									"key": "orderByParameter",
									"value": "AUTHOR_SURNAME",
									"disabled": true
								},
								{
									"key": "orderByParameter",
									"value": "MODIFICATION_DATE",
									"disabled": true
								},
								{
									"key": "page",
									"value": "0",
									"disabled": true
								},
								{
									"key": "pageSize",
									"value": "5",
									"disabled": true
								}
							]
						}
					},
					"response": []
				}
			],
			"protocolProfileBehavior": {}
		},
		{
			"name": "Tag",
			"item": [
				{
					"name": "CREATE tag",
					"request": {
						"auth": {
							"type": "oauth2",
							"oauth2": [
								{
									"key": "accessToken",
									"value": "eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJVc2VyIiwiaWF0IjoxNTg1NTY4ODAxLCJleHAiOjE1ODU2NTUyMDF9.ph7a7EtPkheQErDLb2c5fntBhhPoxaKTLBKBsXJXggSMNg-VByF1xgYlZzXhr0nzfYuDH1eF304ujb6iqKsd3w",
									"type": "string"
								},
								{
									"key": "addTokenTo",
									"value": "header",
									"type": "string"
								}
							]
						},
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"name": "Content-Type",
								"value": "application/json",
								"type": "text"
							},
							{
								"key": "X-XSRF-TOKEN",
								"value": "42eb873c-0485-4f3a-baef-4693f12d219d",
								"type": "text"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\r\n    \"name\": \"newTag\"\r\n}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "http://localhost:8080/tag/",
							"protocol": "http",
							"host": [
								"localhost"
							],
							"port": "8080",
							"path": [
								"tag",
								""
							]
						}
					},
					"response": []
				},
				{
					"name": "FIND tag by id",
					"request": {
						"method": "GET",
						"header": [],
						"url": {
							"raw": "http://localhost:8080/tag/26",
							"protocol": "http",
							"host": [
								"localhost"
							],
							"port": "8080",
							"path": [
								"tag",
								"26"
							]
						}
					},
					"response": []
				},
				{
					"name": "UPDATE tag",
					"request": {
						"auth": {
							"type": "oauth2",
							"oauth2": [
								{
									"key": "accessToken",
									"value": "eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJVc2VyIiwiaWF0IjoxNTg1NTY4ODAxLCJleHAiOjE1ODU2NTUyMDF9.ph7a7EtPkheQErDLb2c5fntBhhPoxaKTLBKBsXJXggSMNg-VByF1xgYlZzXhr0nzfYuDH1eF304ujb6iqKsd3w",
									"type": "string"
								},
								{
									"key": "addTokenTo",
									"value": "header",
									"type": "string"
								}
							]
						},
						"method": "PUT",
						"header": [
							{
								"key": "Content-Type",
								"name": "Content-Type",
								"value": "application/json",
								"type": "text"
							},
							{
								"key": "X-XSRF-TOKEN",
								"value": "17b9ce61-c309-483e-9d13-42d83ba595e1",
								"type": "text"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\r\n    \"id\": 26,\r\n    \"name\": \"UpdateTag6\"\r\n}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "http://localhost:8080/tag/",
							"protocol": "http",
							"host": [
								"localhost"
							],
							"port": "8080",
							"path": [
								"tag",
								""
							]
						}
					},
					"response": []
				},
				{
					"name": "DELETE tag",
					"request": {
						"auth": {
							"type": "oauth2",
							"oauth2": [
								{
									"key": "accessToken",
									"value": "eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJBZG1pbiIsImlhdCI6MTU4NTU2OTA5NCwiZXhwIjoxNTg1NjU1NDk0fQ.lDv2ac152W6N6b8GPXuEsy6T-2KGGFFUmsMdYhd77EF-fQnAPCenVS54q3UXdqyJPcLSRuCb9YM6KgDlUFkkLQ",
									"type": "string"
								},
								{
									"key": "addTokenTo",
									"value": "header",
									"type": "string"
								}
							]
						},
						"method": "DELETE",
						"header": [
							{
								"key": "Content-Type",
								"name": "Content-Type",
								"value": "application/json",
								"type": "text"
							},
							{
								"key": "X-XSRF-TOKEN",
								"value": "0c04d6bb-60c6-47be-b7fc-c363aa5d3e3a",
								"type": "text"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "http://localhost:8080/tag/26",
							"protocol": "http",
							"host": [
								"localhost"
							],
							"port": "8080",
							"path": [
								"tag",
								"26"
							]
						}
					},
					"response": []
				},
				{
					"name": "FIND ALL tags",
					"request": {
						"method": "GET",
						"header": [],
						"url": {
							"raw": "http://localhost:8080/tag",
							"protocol": "http",
							"host": [
								"localhost"
							],
							"port": "8080",
							"path": [
								"tag"
							]
						}
					},
					"response": []
				}
			],
			"protocolProfileBehavior": {}
		},
		{
			"name": "User",
			"item": [
				{
					"name": "create User",
					"request": {
						"method": "POST",
						"header": [],
						"body": {
							"mode": "raw",
							"raw": "{\r\n    \"name\": \"AdministratorName\",\r\n    \"surname\": \"AdministratorSurname\",\r\n    \"login\": \"Admin\",\r\n    \"password\": \"Admin\",\r\n    \"role\": \"ADMIN\"\r\n    \t\r\n    \r\n}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "http://localhost:8080/news_app/user",
							"protocol": "http",
							"host": [
								"localhost"
							],
							"port": "8080",
							"path": [
								"news_app",
								"user"
							]
						}
					},
					"response": []
				},
				{
					"name": "find by id",
					"request": {
						"method": "GET",
						"header": [],
						"url": {
							"raw": "http://localhost:8080/news_app/user/25",
							"protocol": "http",
							"host": [
								"localhost"
							],
							"port": "8080",
							"path": [
								"news_app",
								"user",
								"25"
							]
						}
					},
					"response": []
				},
				{
					"name": "update user",
					"request": {
						"method": "PUT",
						"header": [],
						"body": {
							"mode": "raw",
							"raw": "{\r\n    \"id\": 25,\r\n    \"name\": \"Administrator\",\r\n    \"surname\": \"AdministratorSurname\",\r\n    \"login\": \"Admin\",\r\n    \"password\": \"Admin\",\r\n    \"role\": \"USER\"\r\n}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "http://localhost:8080/news_app/user",
							"protocol": "http",
							"host": [
								"localhost"
							],
							"port": "8080",
							"path": [
								"news_app",
								"user"
							]
						}
					},
					"response": []
				},
				{
					"name": "delete",
					"request": {
						"method": "DELETE",
						"header": [],
						"url": {
							"raw": "http://localhost:8080/news_app/user/25",
							"protocol": "http",
							"host": [
								"localhost"
							],
							"port": "8080",
							"path": [
								"news_app",
								"user",
								"25"
							]
						}
					},
					"response": []
				},
				{
					"name": "sing in",
					"event": [
						{
							"listen": "prerequest",
							"script": {
								"id": "4692ac12-b88c-45bc-8430-035216b16d2d",
								"exec": [
									"console.log('Pre-request Script from Request start');\r",
									"\r",
									"// We don't need to do anything if it's GET or x-csrf-token header is explicitly presented\r",
									"if (pm.request.method !== 'GET' && !(pm.request.headers.has('x-csrf-token'))) {\r",
									"\r",
									"  var csrfRequest = pm.request.clone();\r",
									"  csrfRequest.method = 'GET';\r",
									"  if (pm.request.method === 'POST') {\r",
									"    // for POST method usually it is ....<something>Collection in the URL\r",
									"    // so we add $top=1 just to quickly get csrf token; \r",
									"    // for PUT, PATCH or DELETE the same URL would be enough,\r",
									"    // because it points to the actual entity\r",
									"    csrfRequest.url = pm.request.url + '?$top=1';\r",
									"  }\r",
									"\r",
									"  csrfRequest.upsertHeader({\r",
									"    key: 'x-csrf-token',\r",
									"    value: 'fetch'\r",
									"  });\r",
									"\r",
									"  pm.sendRequest(csrfRequest, function(err, res) {\r",
									"    console.log('pm.sendRequest start');\r",
									"    if (err) {\r",
									"      console.log(err);\r",
									"    } else {\r",
									"      var csrfToken = res.headers.get('x-csrf-token');\r",
									"      if (csrfToken) {\r",
									"        console.log('csrfToken fetched:' + csrfToken);\r",
									"        pm.request.headers.upsert({\r",
									"          key: 'x-csrf-token',\r",
									"          value: csrfToken\r",
									"        });\r",
									"      } else {\r",
									"        console.log('No csrf token fetched');\r",
									"      }\r",
									"    }\r",
									"    console.log('pm.sendRequest end');\r",
									"  });\r",
									"}\r",
									"\r",
									"console.log('Pre-request Script from Request end');"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "X-XSRF-TOKEN",
								"value": "0c04d6bb-60c6-47be-b7fc-c363aa5d3e3a",
								"type": "text"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\r\n    \"login\": \"Admin\",\r\n    \"password\": \"Admin\"\r\n}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "http://localhost:8080/user/signin",
							"protocol": "http",
							"host": [
								"localhost"
							],
							"port": "8080",
							"path": [
								"user",
								"signin"
							]
						}
					},
					"response": []
				}
			],
			"protocolProfileBehavior": {}
		},
		{
			"name": "welcom page GET",
			"request": {
				"method": "GET",
				"header": [],
				"url": {
					"raw": "http://localhost:8080/news/",
					"protocol": "http",
					"host": [
						"localhost"
					],
					"port": "8080",
					"path": [
						"news",
						""
					]
				}
			},
			"response": []
		}
	],
	"protocolProfileBehavior": {}
}